import{a as S}from"./chunk-PSSVFFKQ.js";import{a as b,b as I}from"./chunk-QG4NKO2F.js";import{a as u,b as w,c as y}from"./chunk-4EZMYBZT.js";import{d as M}from"./chunk-AYKO6O3P.js";import{m as O}from"./chunk-ZLFWUQLM.js";import{Bb as n,Cb as o,Db as p,Mb as _,N as h,O as x,Ua as r,Wb as f,Xb as g,Z as l,fb as P,k as v,kb as C,o as c,rb as d,ua as s,xc as a}from"./chunk-FGD53Q7F.js";function R(i,t){if(i&1&&(n(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),p(4,"p-avatar",8),o()(),n(5,"div",9)(6,"h1",10),f(7),o(),n(8,"div",11),p(9,"i",12),n(10,"span",13),f(11),o()()()()()),i&2){let e=_();r(4),d("image",e.avatarUrl()),r(3),g(e.displayName()),r(4),g(e.country()||"Unknown")}}function D(i,t){i&1&&(n(0,"div",14),p(1,"app-loader"),o())}var L=class i{route=l(M);dataAccessService=l(u);stateService=l(y);isDataLoading=a(()=>this.stateService.isDataLoading());destroy$=new v;isProfileLoading=s(!1);rivalProfile=s(null);avatarUrl=a(()=>this.rivalProfile()?.avatarUrl||w);displayName=a(()=>this.rivalProfile()?.name||this.rivalProfile()?.email||"Unknown");country=a(()=>this.rivalProfile()?.country||"Unknown");ngOnInit(){this.isDataLoading()||this.getRivalFromRouteId()}getRivalFromRouteId(){this.isProfileLoading.set(!0),this.route.paramMap.pipe(x(this.destroy$),h(t=>{if(this.rivalProfile())return c(this.rivalProfile());let e=t.get("rivalId");return e?this.dataAccessService.getProfileByUserId(e):c(null)})).subscribe({next:t=>{t?this.rivalProfile.set(t):this.rivalProfile.set(null),this.isProfileLoading.set(!1)},error:t=>{console.error("Error fetching rival profile:",t),this.rivalProfile.set(null),this.isProfileLoading.set(!1)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-rival"]],decls:4,vars:2,consts:[[1,"profile-container"],[1,"profile-header"],["class","header-background",4,"ngIf"],["class","loader-container",4,"ngIf"],[1,"header-background"],[1,"profile-card"],[1,"avatar-section"],[1,"avatar-wrapper"],["size","xlarge","shape","circle",1,"profile-avatar",3,"image"],[1,"profile-info"],[1,"display-name"],[1,"location"],[1,"pi","pi-map-marker"],[1,"location-text"],[1,"loader-container"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"div",1),C(2,R,12,3,"div",2)(3,D,2,0,"div",3),o()()),e&2&&(r(2),d("ngIf",!m.isProfileLoading()),r(),d("ngIf",m.isProfileLoading()))},dependencies:[O,I,b,S],styles:[".profile-header[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]{background:radial-gradient(circle at 20% 30%,rgba(52,245,245,.5) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(52,211,245,.4) 0%,transparent 60%),radial-gradient(circle at 60% 80%,rgba(45,212,245,.4) 0%,transparent 55%),radial-gradient(circle at 30% 60%,rgba(16,185,245,.3) 0%,transparent 45%),linear-gradient(135deg,#18181b4d,#1a1a1d33,#1212144d,#1a1a1d33,#18181b4d);border:1px solid rgba(52,245,221,.1);box-shadow:0 8px 8px #0000004d}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:flex-end}@media (max-width: 800px){[_nghost-%COMP%]{justify-content:center}}.profile-container[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow:hidden}.profile-header[_ngcontent-%COMP%]{padding:60px 2rem;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.profile-header[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{width:100%;min-width:300px;border-radius:20px;margin:32px 0 16px;position:relative}.profile-card[_ngcontent-%COMP%]{position:relative;z-index:3;min-height:363px;display:flex;flex-direction:column;align-items:center;padding:2rem 1rem}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:140px!important;height:140px!important;box-shadow:0 15px 35px #0000004d,0 5px 15px #34f5dd33;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;isolation:isolate;transform:translateZ(2px);border:2px solid rgba(52,152,245,.2)}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{text-align:center;color:#000;max-width:500px;overflow:hidden}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:2.1rem;margin:0 0 1rem;font-weight:700;color:#000;line-height:1.2;letter-spacing:-.02em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;font-size:1.1rem;font-weight:500;padding:.5rem 1rem;overflow:hidden;max-width:100%}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#000;filter:drop-shadow(0 0 4px rgba(0,0,0,.3))}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .location-text[_ngcontent-%COMP%]{color:#000;font-weight:500;text-shadow:0 2px 4px rgba(0,0,0,.3);letter-spacing:.02em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{max-width:300px}.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 .7rem}}@media (max-width: 480px){.profile-header[_ngcontent-%COMP%]{padding:60px 0 0}.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{max-width:200px}}"]})};export{L as RivalComponent};
