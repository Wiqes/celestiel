import{a as S}from"./chunk-UXNLCZE7.js";import{d as M}from"./chunk-SAFGRYGY.js";import{a as I}from"./chunk-DVC2K2GR.js";import{a as y,b}from"./chunk-FHAFFU2X.js";import{b as w,c as u}from"./chunk-RPOJK46U.js";import{m as O}from"./chunk-Q4X7JAGN.js";import{Bb as o,Cb as r,Db as l,Mb as g,O as _,P,Ta as n,Xb as m,Yb as v,Z as c,fb as C,k as x,kb as f,o as d,rb as a,ua as s,xc as p}from"./chunk-RFBIJB72.js";function k(t,i){if(t&1&&l(0,"p-avatar",15),t&2){let e=g(2);a("image",e.avatarUrl())}}function D(t,i){t&1&&l(0,"app-owl-icon",16)}function L(t,i){if(t&1&&(o(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),f(4,k,1,1,"p-avatar",8)(5,D,1,0,"app-owl-icon",9),r()(),o(6,"div",10)(7,"h1",11),m(8),r(),o(9,"div",12),l(10,"i",13),o(11,"span",14),m(12),r()()()()()),t&2){let e=g();n(4),a("ngIf",e.avatarUrl()),n(),a("ngIf",!e.avatarUrl()),n(3),v(e.displayName()),n(4),v(e.country()||"Unknown")}}function U(t,i){t&1&&(o(0,"div",17),l(1,"app-loader"),r())}var R=class t{route=c(M);dataAccessService=c(w);stateService=c(u);isDataLoading=p(()=>this.stateService.isDataLoading());destroy$=new x;isProfileLoading=s(!1);rivalProfile=s(null);avatarUrl=p(()=>this.rivalProfile()?.avatarUrl||"");displayName=p(()=>this.rivalProfile()?.name||this.rivalProfile()?.email||"Unknown");country=p(()=>this.rivalProfile()?.country||"Unknown");ngOnInit(){this.isDataLoading()||this.getRivalFromRouteId()}getRivalFromRouteId(){this.isProfileLoading.set(!0),this.route.paramMap.pipe(P(this.destroy$),_(i=>{if(this.rivalProfile())return d(this.rivalProfile());let e=i.get("rivalId");return e?this.dataAccessService.getProfileByUserId(e):d(null)})).subscribe({next:i=>{i?this.rivalProfile.set(i):this.rivalProfile.set(null),this.isProfileLoading.set(!1)},error:i=>{console.error("Error fetching rival profile:",i),this.rivalProfile.set(null),this.isProfileLoading.set(!1)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-rival"]],decls:4,vars:2,consts:[[1,"profile-container"],[1,"profile-header"],["class","header-background",4,"ngIf"],["class","loader-container",4,"ngIf"],[1,"header-background"],[1,"profile-card"],[1,"avatar-section"],[1,"avatar-wrapper"],["size","xlarge","shape","circle","class","profile-avatar",3,"image",4,"ngIf"],["style","width: 138px",4,"ngIf"],[1,"profile-info"],[1,"display-name"],[1,"location"],[1,"pi","pi-map-marker"],[1,"location-text"],["size","xlarge","shape","circle",1,"profile-avatar",3,"image"],[2,"width","138px"],[1,"loader-container"]],template:function(e,h){e&1&&(o(0,"div",0)(1,"div",1),f(2,L,13,4,"div",2)(3,U,2,0,"div",3),r()()),e&2&&(n(2),a("ngIf",!h.isProfileLoading()),n(),a("ngIf",h.isProfileLoading()))},dependencies:[O,b,y,S,I],styles:[".profile-header[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]{background:radial-gradient(circle at 20% 30%,rgba(52,245,245,.5) 0%,transparent 122%),radial-gradient(circle at 80% 20%,rgba(52,211,245,.4) 0%,transparent 60%),radial-gradient(circle at 60% 80%,rgba(45,212,245,.4) 0%,transparent 55%),radial-gradient(circle at 30% 60%,rgba(16,185,245,.3) 0%,transparent 45%),linear-gradient(135deg,#18181b4d,#1a1a1d33,#1212144d,#1a1a1d33,#18181b4d);border:1px solid rgba(52,245,221,.1);box-shadow:0 8px 8px #0000004d}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:flex-end}@media (max-width: 800px){[_nghost-%COMP%]{justify-content:center}}.profile-container[_ngcontent-%COMP%]{height:100%;position:relative}.profile-header[_ngcontent-%COMP%]{padding:60px 2rem;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.profile-header[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]   .loader-container[_ngcontent-%COMP%]{width:100%;min-width:300px;border-radius:20px;margin:32px 0 16px;position:relative}.profile-card[_ngcontent-%COMP%]{position:relative;z-index:3;min-height:363px;display:flex;flex-direction:column;align-items:center;padding:2rem 1rem;min-height:387px}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.profile-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:140px!important;height:140px!important;box-shadow:0 15px 35px #0000004d,0 5px 15px #34f5dd33;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;isolation:isolate;transform:translateZ(2px);border:2px solid rgba(52,152,245,.2)}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{text-align:center;color:#000;max-width:500px;overflow:hidden}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:2.1rem;margin:0 0 1rem;font-weight:700;color:#000;line-height:1.2;letter-spacing:-.02em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;font-size:1.1rem;font-weight:500;padding:.5rem 1rem;overflow:hidden;max-width:100%}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#000;filter:drop-shadow(0 0 4px rgba(0,0,0,.3))}.profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .location-text[_ngcontent-%COMP%]{color:#000;font-weight:500;text-shadow:0 2px 4px rgba(0,0,0,.3);letter-spacing:.02em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{max-width:300px}.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 .7rem}}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.profile-header[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{max-width:200px}}"]})};export{R as RivalComponent};
