import{a as S,b as I}from"./chunk-7III2T7Z.js";import{b as y}from"./chunk-VNKTY5ZJ.js";import{f as k}from"./chunk-GBD462O6.js";import{m as P,t as O}from"./chunk-XQ2JBN3L.js";import{Ab as r,Bb as A,Fb as u,Jb as g,Kb as s,Tb as b,Y as C,bc as w,db as l,ea as m,fa as d,ib as v,jc as M,pb as p,qb as h,ra as f,sb as _,tb as x,uc as F,zb as i}from"./chunk-KQHS7NYU.js";var T=a=>({"background-color":a});function z(a,e){if(a&1){let t=u();i(0,"p-avatar",2),g("click",function(o){m(t);let c=s();return d(c.onAvatarClick(o))}),r()}if(a&2){let t=s();h("width",t.isSmall()?30:48,"px")("height",t.isSmall()?30:48,"px"),p("image",t.avatarUrl())("size","large")}}function N(a,e){if(a&1){let t=u();i(0,"p-avatar",3),g("click",function(o){m(t);let c=s();return d(c.onAvatarClick(o))}),r()}if(a&2){let t=s();_(w(8,T,t.getAvatarColor())),h("width",t.isSmall()?30:48,"px")("height",t.isSmall()?30:48,"px"),p("label",t.getInitials())("size","large")}}var D=class a{router=C(k);profile=f(null);avatarUrl=F(()=>this.profile()?.avatarUrl||"");isSmall=f(!1);onAvatarClick(e){e?.stopPropagation();let t=this.profile()?.userId||"Unknown";this.router.navigate(["profile",t])}getInitials(){let e=this.profile()?.name||"";if(!e)return"?";let t=e.trim().split(" ");return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}getAvatarColor(){let e=this.profile()?.name||"Unknown",t=["#FF6B6B","#FFEAA7","#DDA0DD","#F7DC6F","#BB8FCE","#6C5CE7","#FD79A8","#636E72","#FAB1A0","#74B9FF","#A29BFE","#E17055","#00BFFF","#FFD700"],n=0;for(let o=0;o<e.length;o++)n=e.charCodeAt(o)+((n<<5)-n);return t[Math.abs(n)%t.length]}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=l({type:a,selectors:[["app-chat-avatar"]],inputs:{profile:[1,"profile"],isSmall:[1,"isSmall"]},decls:3,vars:2,consts:[["avatarPlaceholder",""],["shape","circle","class","avatar-image",3,"image","size","width","height","click",4,"ngIf","ngIfElse"],["shape","circle",1,"avatar-image",3,"click","image","size"],["shape","circle",1,"avatar-placeholder",3,"click","label","size"]],template:function(t,n){if(t&1&&v(0,z,1,6,"p-avatar",1)(1,N,1,10,"ng-template",null,0,M),t&2){let o=b(2);p("ngIf",n.avatarUrl())("ngIfElse",o)}},dependencies:[I,S,P],styles:["[_nghost-%COMP%]{position:relative;flex-shrink:0;cursor:pointer}.avatar-image[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{border:2px solid rgba(52,245,221,.3);box-shadow:0 2px 8px #34f5dd33;transition:all .2s ease}.avatar-image[_ngcontent-%COMP%]:hover, .avatar-placeholder[_ngcontent-%COMP%]:hover{border-color:#34f5dd;box-shadow:0 4px 12px #34f5dd4d}.avatar-placeholder[_ngcontent-%COMP%]{color:#18181b!important;font-weight:700;font-size:1.1rem}"]})};var E=class a{isOnline;showAnimation=!0;getStatusClass(){let e=this.isOnline?"online":"offline",t=this.showAnimation?"":"no-animation";return`${e} ${t}`.trim()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=l({type:a,selectors:[["app-online-status"]],inputs:{isOnline:"isOnline",showAnimation:"showAnimation"},decls:2,vars:2,consts:[["tooltipPosition","top",1,"online-status"],[1,"status-dot"]],template:function(t,n){t&1&&(i(0,"div",0),A(1,"div",1),r()),t&2&&x(n.getStatusClass())},dependencies:[O,y],styles:[".status-dot[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;transition:background-color .3s ease}.online[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:50%;border:1px solid black;transition:all .5s ease;background:#99ffdde6;box-shadow:0 0 15px #9fd9,0 0 25px #99ffdd4d}.offline[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{display:none}"]})};export{D as a,E as b};
